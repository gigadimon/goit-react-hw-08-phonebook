(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[288],{9288:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Z}});var r=t(885),a="ContactListItem_item__UAAix",i="ContactListItem_name__cIBvF",o="ContactListItem_number__j2Ar0",u=t(9467),s=t(1405),c=t(2791),l=t(2333),f=t(7967),m=t(184);function d(e){var n=e.name,t=e.number,d=e.id,h=(0,s.I0)(),p=(0,c.useState)(!1),v=(0,r.Z)(p,2),b=v[0],g=v[1],x=(0,c.useState)(""),j=(0,r.Z)(x,2),y=j[0],C=j[1];return(0,m.jsx)(m.Fragment,{children:y!==d&&(0,m.jsxs)("li",{className:a,children:[(0,m.jsxs)("span",{className:i,children:[n,":"]})," ",(0,m.jsx)("span",{className:o,children:t}),(0,m.jsxs)(l.Z,{size:"small",variant:"outlined",onClick:function(){return function(e){g(!0),h((0,u.GK)(e)).finally((function(){C(e),g(!1)}))}(d)},disabled:b,children:[b&&(0,m.jsx)(f.s5,{strokeColor:"#1976d2",strokeWidth:"5",animationDuration:"0.75",width:"18",visible:!0}),b?"Deleting...":"Delete"]})]})})}var h="ContactList_contactList__UFVCg",p=t(6351),v=t(4802),b=t(4569),g=t.n(b);function x(){var e=(0,v.I0)(),n=(0,v.v9)(p.Af),t=(0,v.v9)(p.AD),r=(0,v.v9)(p.rK),a=(0,v.v9)(p.KN);return(0,c.useEffect)((function(){!g().defaults.headers.common.Authorization&&r&&(g().defaults.headers.common.Authorization="Bearer ".concat(r))}),[r]),(0,c.useEffect)((function(){a&&!n.length&&e((0,u.K2)())}),[e,a,n]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("ul",{className:h,children:n&&(t?n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){var n=e.name,t=e.number,r=e.id;return(0,m.jsx)(d,{name:n,number:t,id:r},r)})):n.map((function(e){var n=e.name,t=e.number,r=e.id;return(0,m.jsx)(d,{name:n,number:t,id:r},r)})))})})}var j="Filter_input__N7T3z",y=t(6895),C=t(295),_=t(5095),N=t.n(_);function A(){var e=(0,v.I0)();function n(n){e((0,y.K)(n.target.value))}(0,c.useEffect)((function(){return function(){e((0,y.K)(""))}}),[e]);var t=(0,c.useMemo)((function(){return N()(n,300)}),[n]);return(0,m.jsx)(C.Z,{sx:{"& .MuiInputBase-input":{height:30,padding:"4px 14px"},"& .css-14s5rfu-MuiFormLabel-root-MuiInputLabel-root":{fontSize:"14px",top:"-7px"}},id:"outlined-search",label:"Find contacts by name",type:"search",name:"filter",onChange:t,className:j})}var k={form:"ContactFormMarkup_form__44U4e"};function w(e){var n=e.handleSubmit,t=e.handleChange,r=e.name,a=e.number,i=e.isAdding;return(0,m.jsxs)("form",{onSubmit:n,className:k.form,children:[(0,m.jsx)(C.Z,{className:k.input,sx:{marginBottom:"20px"},size:"small",id:"outlined-basic",label:"Name",variant:"outlined",fullWidth:!0,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:r,onChange:t}),(0,m.jsx)(C.Z,{className:k.input,sx:{marginBottom:"20px"},size:"small",id:"outlined-basic",label:"Number",variant:"outlined",fullWidth:!0,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:a,onChange:t}),(0,m.jsxs)(l.Z,{variant:"contained",type:"submit",disabled:i,children:[i&&(0,m.jsx)(f.s5,{strokeColor:"#fff",strokeWidth:"5",animationDuration:"0.75",width:"18",visible:!0}),i?"Adding...":"Add contact"]})]})}var F=t(5985);t(5462);function I(){var e=(0,s.I0)(),n=(0,s.v9)(p.Af),t=(0,c.useState)(!1),a=(0,r.Z)(t,2),i=a[0],o=a[1],l=(0,c.useState)(""),f=(0,r.Z)(l,2),d=f[0],h=f[1],v=(0,c.useState)(""),b=(0,r.Z)(v,2),g=b[0],x=b[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w,{handleSubmit:function(t){t.preventDefault(),n?0===n.filter((function(e){return e.name===d||e.number===g})).length?(o(!0),e((0,u.uK)({name:d,number:g})).finally((function(){return o(!1)}))):F.Am.error("This contact is already in your phonebook",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(o(!0),e((0,u.uK)({name:d,number:g})).finally((function(){return o(!1)}))),h(""),x("")},handleChange:function(e){switch(e.currentTarget.name){case"name":return h(e.currentTarget.value);case"number":return x(e.currentTarget.value);default:return}},name:d,number:g,isAdding:i}),(0,m.jsx)(F.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}var O="Phonebook_container__u4h5I";function Z(){var e=(0,s.v9)(p.KN);return(0,m.jsx)(m.Fragment,{children:e&&(0,m.jsxs)("div",{className:O,children:[(0,m.jsx)("h1",{children:"Phonebook"}),(0,m.jsx)(I,{}),(0,m.jsx)("h2",{children:"Contacts"}),(0,m.jsx)(A,{}),(0,m.jsx)(x,{})]})})}},5095:function(e,n,t){var r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt,s="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),f=Object.prototype.toString,m=Math.max,d=Math.min,h=function(){return l.Date.now()};function p(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(p(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=p(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var t=i.test(e);return t||o.test(e)?u(e.slice(2),t?2:8):a.test(e)?NaN:+e}e.exports=function(e,n,t){var r,a,i,o,u,s,c=0,l=!1,f=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(n){var t=r,i=a;return r=a=void 0,c=n,o=e.apply(i,t)}function x(e){return c=e,u=setTimeout(y,n),l?g(e):o}function j(e){var t=e-s;return void 0===s||t>=n||t<0||f&&e-c>=i}function y(){var e=h();if(j(e))return C(e);u=setTimeout(y,function(e){var t=n-(e-s);return f?d(t,i-(e-c)):t}(e))}function C(e){return u=void 0,b&&r?g(e):(r=a=void 0,o)}function _(){var e=h(),t=j(e);if(r=arguments,a=this,s=e,t){if(void 0===u)return x(s);if(f)return u=setTimeout(y,n),g(s)}return void 0===u&&(u=setTimeout(y,n)),o}return n=v(n)||0,p(t)&&(l=!!t.leading,i=(f="maxWait"in t)?m(v(t.maxWait)||0,n):i,b="trailing"in t?!!t.trailing:b),_.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=s=a=u=void 0},_.flush=function(){return void 0===u?o:C(h())},_}}}]);
//# sourceMappingURL=288.fc2a5968.chunk.js.map